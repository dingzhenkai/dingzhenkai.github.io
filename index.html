<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
   
  <meta name="keywords" content="丁星乐、学习、工作、生活" />
   
  <meta name="description" content="分享丁星乐的学习、工作与享乐时光" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>
     丁星乐
  </title>
  <meta name="generator" content="hexo-theme-yilia-plus">
  
  <link rel="shortcut icon" href="/favicon.ico" />
  
  
<link rel="stylesheet" href="/css/style.css">

  
<script src="/js/pace.min.js"></script>


  

  

</head>

</html>

<body>
  <div id="app">
    <main class="content">
      
<section class="cover">
    
      
      <a class="forkMe" href="https://github.com/dingzhenkai"
        target="_blank"><img width="149" height="149" src="/images/forkme.png"
          class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1"></a>
    
  <div class="cover-frame">
    <div class="bg-box">
      <img src="/images/cover.jpg" alt="image frame" />
    </div>
    <div style="color:#000" class="cover-inner text-center text-white">
      <h1><a style="color:#000" href="/">丁星乐</a></h1>
      <div id="subtitle-box">
        
        <span id="subtitle"></span>
        
      </div>
      <div>
        
      </div>
    </div>
  </div>
  <div class="cover-learn-more">
    <a href="javascript:void(0)" class="anchor"><i class="ri-arrow-down-line"></i></a>
  </div>
</section>


<div id="main">
  <section class="outer">
  <article class="articles">
    
    
    
    
    <article id="post-alibaba-code-style" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2021/03/03/alibaba-code-style/"
    >转载阿里巴巴Java开发手册</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2021/03/03/alibaba-code-style/" class="article-date">
  <time datetime="2021-03-03T07:09:16.000Z" itemprop="datePublished">2021-03-03</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%B7%A5%E5%85%B7/">工具</a>
  </div>

      
      
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
      <p>这是转载的阿里Java开发手册。</p>
<h2 id="值得注意的"><a href="#值得注意的" class="headerlink" title="值得注意的"></a>值得注意的</h2><h3 id="Integer之前的比较要用equal，而不是"><a href="#Integer之前的比较要用equal，而不是" class="headerlink" title="Integer之前的比较要用equal，而不是=="></a>Integer之前的比较要用equal，而不是==</h3><p>对基础数据类型byte,short,char,int,long,float,double,boolean， == 比较的是value</p>
<p>对非基础类型 == 比较的是指针，也就是内存地址</p>
<p>equal比较的是指针，但是Integer这个类重写了equal方法，所以比较的就是value</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Integer a = <span class="number">111111</span>;</span><br><span class="line">Integer b = <span class="number">111111</span>;</span><br><span class="line">a == b; <span class="comment">// false</span></span><br><span class="line">a.equal(b); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>



<h3 id="浮点数之间的等值判断，基本数据类型不能用-来比较，包装数据类型不能用-equals-来判断"><a href="#浮点数之间的等值判断，基本数据类型不能用-来比较，包装数据类型不能用-equals-来判断" class="headerlink" title="浮点数之间的等值判断，基本数据类型不能用==来比较，包装数据类型不能用 equals 来判断"></a>浮点数之间的等值判断，基本数据类型不能用==来比较，包装数据类型不能用 equals 来判断</h3><p>核心原因在于二进制无法精确表示浮点数，总是有误差，自然不能equal</p>
<h3 id="字符串修改用StringBuilder"><a href="#字符串修改用StringBuilder" class="headerlink" title="字符串修改用StringBuilder"></a>字符串修改用StringBuilder</h3><p>直接 String a = ‘this is head ‘+ ‘this is tail’; 编译成字节码的时候是会new StringBuilder 然后 append ‘this is head’ 和 ‘this is tail’</p>
<h3 id="Object-clone-是对象浅拷贝"><a href="#Object-clone-是对象浅拷贝" class="headerlink" title="Object.clone() 是对象浅拷贝"></a>Object.clone() 是对象浅拷贝</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Teacher</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String name; <span class="comment">// 名字</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> School school; <span class="comment">// 毕业院校，这是是一个之前school对象的引用</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>浅拷贝：</strong></p>
<p>对象浅拷贝会new 一个新的对象，复制原对象的属性，原对象引用类型的属性只会复制引用，不会复制被引用的对象。例如</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Teacher alice = <span class="keyword">new</span> Teacher();</span><br><span class="line">alice.setName(<span class="string">'alice'</span>);</span><br><span class="line">alice.setSchool(<span class="keyword">new</span> School(<span class="string">'THU'</span>));</span><br><span class="line"><span class="comment">// alice2 是复制的alice，所以name和school都一样，注意school对象是个对象，但这里只是个指针，对象浅拷贝也只是复制了这个指针，相当于给school对象加了个引用</span></span><br><span class="line">Teacher alice2 = (Teacher)alice.clone();</span><br><span class="line">alice2.getName() == <span class="string">'alice'</span>; <span class="comment">// true</span></span><br><span class="line">alice2.getSchool().getName() == <span class="string">'THU'</span>; <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<p><strong>深拷贝：</strong></p>
<p>深拷贝会将引用类型指向的对象也复制一遍。例如上面的alice对象深拷贝的话，就会在堆上再new 一个school对象，然后将指针填到alice2里面。</p>
<embed src="ali_java.pdf" width="100%" height="960">


      
      <!-- 打赏 -->
      
    </div>
    <footer class="article-footer">
      <a data-url="https://zkdingme.github.io/2021/03/03/alibaba-code-style/" data-id="ckm0prb2u0018ylj5a8hs9wo7"
        class="article-share-link">分享</a>
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Code-Style/" rel="tag">Code Style</a></li></ul>

    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-Java-Keyword" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2021/02/24/Java-Keyword/"
    >Java关键字</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2021/02/24/Java-Keyword/" class="article-date">
  <time datetime="2021-02-24T03:26:57.000Z" itemprop="datePublished">2021-02-24</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/JAVA/">JAVA</a>
  </div>

      
      
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
      <p>Java中有52个保留的关键字例如final、static、synchronized等，这里重点记录几个我目前不熟悉的关键字，其他keyword的适用场景和作用可以去<a href="https://en.wikipedia.org/wiki/List_of_Java_keywords" target="_blank" rel="noopener">Wikipedia</a>上看。</p>
<h2 id="volatile"><a href="#volatile" class="headerlink" title="volatile"></a>volatile</h2><blockquote>
<p>Used in field declarations to guarantee visibility of changes to variables across threads. Every read of a volatile variable will be read from main memory, and not from the CPU cache, and that every write to a volatile variable will be written to main memory, and not just to the CPU cache.<a href="https://en.wikipedia.org/wiki/List_of_Java_keywords#cite_note-Java_Volatile_Keyword-21" target="_blank" rel="noopener">[21]</a> Methods, classes and interfaces thus cannot be declared <em>volatile</em>, nor can local variables or parameters.</p>
</blockquote>
<p>适用场景：只能用来申明变量，不能用来申明类和函数</p>
<p>作用：对变量的write和read操作都是直接读写main memory，而不是cpu cache。这样每个线程读写的都是最新的值。不申明volatile的话，多线程环境下，可能线程A修改了变量的值，但是只更新在cpu cache里面，并没有更新到memory里面，这样线程B读的就是老的值，而不是最新值。<br><img src="http://tutorials.jenkov.com/images/java-concurrency/java-volatile-1.png" alt=""></p>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SharedObject</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">volatile</span> <span class="keyword">int</span> counter = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>可以看出，申明了volatile，就write through(既更新cache也更新memory)，不申明的话就是write back模式(只更新cache，然后等cache满了再写回到memory)</p>
<h2 id="synchronized"><a href="#synchronized" class="headerlink" title="synchronized"></a>synchronized</h2><blockquote>
<p>Used in the declaration of a method or code block to acquire the <a href="https://en.wikipedia.org/wiki/Mutex" target="_blank" rel="noopener">mutex</a> lock for an object while the current <a href="https://en.wikipedia.org/wiki/Thread_(computer_science)" target="_blank" rel="noopener">thread</a> executes the code.<a href="https://en.wikipedia.org/wiki/List_of_Java_keywords#cite_note-FOOTNOTEFlanagan200566-67-8" target="_blank" rel="noopener">[8]</a> For static methods, the object locked is the class’s <code>Class</code>. Guarantees that at most one thread at a time operating on the same object executes that code. The mutex lock is automatically released when execution exits the synchronized code. Fields, classes and interfaces cannot be declared as <em>synchronized</em>.</p>
</blockquote>
<p>适用场景：只适用于method 和code block，不能用于申明field,class和interfence</p>
<p>作用：用加锁的方式确保同步执行一段代码</p>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyCounter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> value)</span></span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.count += value;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> MyStaticCounter&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> value)</span></span>&#123;</span><br><span class="line">      count += value;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> value)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">synchronized</span>(<span class="keyword">this</span>)&#123;</span><br><span class="line">     <span class="keyword">this</span>.count += value;   </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="super"><a href="#super" class="headerlink" title="super"></a>super</h2><blockquote>
<p>Inheritance basically used to achieve dynamic binding or run-time polymorphism in java. Used to access members of a class inherited by the class in which it appears. Allows a subclass to access <a href="https://en.wikipedia.org/wiki/Method_overriding_(programming)" target="_blank" rel="noopener">overridden</a> methods and hidden members of its superclass. The <code>super</code> keyword is also used to forward a call from a constructor to a constructor in the superclass.</p>
<p>Also used to specify a lower bound on a type parameter in Generics.</p>
</blockquote>
<p>适用场景：用在子类的函数中</p>
<p>作用：调用父类的同名变量，函数(包括构造函数)</p>
<h2 id="this"><a href="#this" class="headerlink" title="this"></a>this</h2><blockquote>
<p>Used to represent an instance of the class in which it appears. <code>this</code> can be used to access class members and as a reference to the current instance. The <code>this</code> keyword is also used to forward a call from one constructor in a class to another constructor in the same class.</p>
</blockquote>
<p>适用场景：在类中使用</p>
<p>作用：表示当前类的实例</p>
<h2 id="final"><a href="#final" class="headerlink" title="final"></a>final</h2><blockquote>
<p>Define an entity once that cannot be changed nor derived from later. More specifically: a final class cannot be subclassed, a final method cannot be overridden, and a final variable can occur at most once as a left-hand expression on an executed command. All methods in a final class are implicitly <code>final</code>.</p>
</blockquote>
<p>适用场景：申明变量、函数、类</p>
<p>作用：申明的对象不可以被修改。申明变量，变量变为常量；申明函数，函数不可以被override；申明类，不可以有子类</p>
<h2 id="finally"><a href="#finally" class="headerlink" title="finally"></a>finally</h2><blockquote>
<p>Used to define a block of statements for a block defined previously by the <code>try</code> keyword. The <code>finally</code> block is executed after execution exits the <code>try</code> block and any associated <code>catch</code> clauses regardless of whether an exception was thrown or caught, or execution left method in the middle of the <code>try</code> or <code>catch</code> blocks using the <code>return</code> keyword.</p>
</blockquote>
<p>适用场景：在try/catch 语句之后</p>
<p>作用：在程序进入try块之后，无论程序是因为异常而中止或其它方式返回终止的，finally块的内容一定会被执行 。</p>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExceptionDemo2</span> </span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] argv)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">new</span> ExceptionDemo2().doTheWork();</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doTheWork</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      Object o = <span class="keyword">null</span>;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">5</span>; i++) &#123;</span><br><span class="line">         <span class="keyword">try</span> &#123;</span><br><span class="line">            o = makeObj(i);</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="keyword">catch</span> (IllegalArgumentException e) &#123;</span><br><span class="line">            System.err.println</span><br><span class="line">            (<span class="string">"Error: ("</span>+ e.getMessage()+<span class="string">")."</span>);</span><br><span class="line">            <span class="keyword">return</span>;   </span><br><span class="line">         &#125;</span><br><span class="line">         <span class="keyword">finally</span> &#123;</span><br><span class="line">            System.err.println(<span class="string">"都已执行完毕"</span>);</span><br><span class="line">            <span class="keyword">if</span> (o==<span class="keyword">null</span>)</span><br><span class="line">            System.exit(<span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(o); </span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> Object <span class="title">makeObj</span><span class="params">(<span class="keyword">int</span> type)</span> </span></span><br><span class="line"><span class="function">   <span class="keyword">throws</span> IllegalArgumentException </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (type == <span class="number">1</span>)  </span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException</span><br><span class="line">      (<span class="string">"不是指定的类型： "</span> + type);</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> Object();</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="private-protect-public"><a href="#private-protect-public" class="headerlink" title="private, protect, public"></a>private, protect, public</h2><blockquote>
<p>The <code>private</code> keyword is used in the declaration of a method, field, or inner class; private members can only be accessed by other members of their own class.</p>
<p>The <code>protected</code> keyword is used in the declaration of a method, field, or inner class; protected members can only be accessed by members of their own class, that class’s <a href="https://en.wikipedia.org/wiki/Inheritance_(object-oriented_programming)" target="_blank" rel="noopener">subclasses</a> or classes from the same <a href="https://en.wikipedia.org/wiki/Java_package" target="_blank" rel="noopener">package</a>.</p>
<p>The <code>public</code> keyword is used in the declaration of a class, method, or field; public classes, methods, and fields can be accessed by the members of any class.</p>
</blockquote>
<p>适用场景：申明变量、函数和类</p>
<p>作用：区别在于访问权限。private申明的只能在当前类里面访问；public申明的只能在当前类、当前类的子类和当前类所在包的类访问；public申明的可以随意访问，没有access限制。</p>
<h2 id="strictfp"><a href="#strictfp" class="headerlink" title="strictfp"></a>strictfp</h2><blockquote>
<p>A Java keyword used to restrict the precision and rounding of floating point calculations to ensure portability.281</p>
<p>Strictfp ensures that you get exactly the same results from your floating point calculations on every platform. If you don’t use strictfp, the JVM implementation is free to use extra precision where available.</p>
</blockquote>
<p>适用场景：申明浮点数</p>
<p>作用：普通float申明的变量同样的计算在不同的平台可能有不同的结果。用strictfp申明的浮点数在不同平台计算时就会有相同的结果。</p>
<h2 id="transient"><a href="#transient" class="headerlink" title="transient"></a>transient</h2><blockquote>
<p>Declares that an instance field is not part of the default <a href="https://en.wikipedia.org/wiki/Serialization" target="_blank" rel="noopener">serialized</a> form of an object. When an object is serialized, only the values of its non-transient instance fields are included in the default serial representation. When an object is deserialized, transient fields are initialized only to their default value. If the default form is not used, e.g. when a <em>serialPersistentFields</em> table is declared in the class hierarchy, all <code>transient</code> keywords are ignored.[<a href="https://en.wikipedia.org/wiki/List_of_Java_keywords#cite_note-serialSpec-19" target="_blank" rel="noopener"></a></p>
</blockquote>
<p>适用场景：类中申明类的属性，序列化时这些属性不会被序列化</p>
<p>作用：类的有些属性需要序列化，而其他属性不需要被序列化，打个比方，如果一个用户有一些敏感信息（如密码，银行卡号等），为了安全起见，不希望在网络操作（主要涉及到序列化操作，本地序列化缓存也适用）中被传输，这些信息对应的变量就可以加上transient关键字。换句话说，这个字段的生命周期仅存于调用者的内存中而不会写到磁盘里持久化。</p>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">8294180014912103005L</span>;  </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">transient</span> String passwd;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>参考： <a href="https://www.cnblogs.com/lanxuezaipiao/p/3369962.html" target="_blank" rel="noopener">https://www.cnblogs.com/lanxuezaipiao/p/3369962.html</a></p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p>代码示例来自 <a href="http://tutorials.jenkov.com/" target="_blank" rel="noopener">java tutorials</a> 和 <a href="https://www.runoob.com/java/java-tutorial.html" target="_blank" rel="noopener">菜鸟教程</a></p>

      
      <!-- 打赏 -->
      
    </div>
    <footer class="article-footer">
      <a data-url="https://zkdingme.github.io/2021/02/24/Java-Keyword/" data-id="ckm0prb2m000nylj5arz69i3t"
        class="article-share-link">分享</a>
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%85%B3%E9%94%AE%E5%AD%97/" rel="tag">关键字</a></li></ul>

    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-write-resume-skills" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2021/02/16/write-resume-skills/"
    >简历写作技巧</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2021/02/16/write-resume-skills/" class="article-date">
  <time datetime="2021-02-16T06:20:38.000Z" itemprop="datePublished">2021-02-16</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%B7%A5%E5%85%B7/">工具</a>
  </div>

      
      
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
      <p>转自 阿里校招群某位大佬的建议</p>
<blockquote>
<p>各位同学好，我们阿里开源核心产品Nacos创始人，近期评估简历发现很多小伙伴写的简历太平淡，给出我一些建议，欢迎小伙伴投简历给我一起交流<br>我的邮箱： <a href="mailto:water.lyl@alibaba-inc.com">water.lyl@alibaba-inc.com</a><br>我的微信：lylolyl  流水<br>写简历怎么写出差异化竞争力？<br>1、有项目经历：参加公司、导致真实的xx项目，采用了xx技术，解决了xx难题<br>2、有竞赛经历：获得了什么结果，竞赛中挑战的题目是，采用什么技术，算法解决。<br>3、有开源经历：参与xx开源项目，贡献多少核心代码，可以把贡献代码负载简历上<br>4、有优秀论文：攻克了软件领域的难题，并且在xx发表<br>5、有博客积累：学习经验和编码程序有积累，可以附在简历上</p>
</blockquote>

      
      <!-- 打赏 -->
      
    </div>
    <footer class="article-footer">
      <a data-url="https://zkdingme.github.io/2021/02/16/write-resume-skills/" data-id="ckm0prb36002hylj53mrc0d2s"
        class="article-share-link">分享</a>
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AE%80%E5%8E%86%E5%86%99%E4%BD%9C/" rel="tag">简历写作</a></li></ul>

    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-Code-Style" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2021/01/21/Code-Style/"
    >Code Style整理</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2021/01/21/Code-Style/" class="article-date">
  <time datetime="2021-01-20T17:27:54.000Z" itemprop="datePublished">2021-01-21</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%B7%A5%E5%85%B7/">工具</a>
  </div>

      
      
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
      <h2 id="命名规范"><a href="#命名规范" class="headerlink" title="命名规范"></a>命名规范</h2><ol>
<li><p>文件<br>驼峰命名法(小驼峰) 例如 initRoom.js  index.js</p>
</li>
<li><p>类<br>驼峰命名法(大驼峰) 例如 LoginAction</p>
</li>
<li><p>函数</p>
<p>驼峰命名法(小驼峰) 例如 initRoom</p>
</li>
<li><p>变量<br>驼峰命名法(小驼峰) curCount</p>
</li>
<li><p>常量<br>驼峰命名法(大驼峰) MaxCount</p>
</li>
</ol>
<h2 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h2><ul>
<li>删除一个对象不能仅仅靠解绑引用，等GC；要手动强制删除对象 ，但是手动强制删除对象也会有问题，万一哪里忘记删除引用，程序就会挂，不过开发阶段挂也没事。</li>
</ul>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><ul>
<li>参数校验<br>统一在函数内部对参数进行校验，校验失败在函数返回值里面体现</li>
<li>error<br>函数内部遇到错误时，如果是函数自己运行生成的error，统一向上抛</li>
</ul>
<h2 id="类"><a href="#类" class="headerlink" title="类"></a>类</h2><ul>
<li>一个类不应该直接访问另一个类的属性，而是应该封装一个函数给外部类调用<br>例如class Referee 想访问 class Battle的status [waiting, going, end]，不能直接访问battleObj.status，而是应该调用battleObj.isWaiting(), battleObj.isGoing(), battleObj.isEnd()</li>
<li>对象之前允许套娃引用。worker 创建了 room，然后转发消息给room， room如果突然要把消息传给worker的话，两种方式：其一，函数返回值，worker 里面 ret = worker.onReceiveMessage(msg) ；其二，在room里面加一个指向worker的引用，然后在 room里面调用 worker.onReceiveRoomMessage。第二种方式更好，不要怕引用产生套娃，没事的，面向对象是可以这样的。</li>
</ul>

      
      <!-- 打赏 -->
      
    </div>
    <footer class="article-footer">
      <a data-url="https://zkdingme.github.io/2021/01/21/Code-Style/" data-id="ckm0prb2f0008ylj5cgzx0bwt"
        class="article-share-link">分享</a>
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Code-Style/" rel="tag">Code Style</a></li></ul>

    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-Linux-shell-符号" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2021/01/13/Linux-shell-%E7%AC%A6%E5%8F%B7/"
    >Linux_shell_符号</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2021/01/13/Linux-shell-%E7%AC%A6%E5%8F%B7/" class="article-date">
  <time datetime="2021-01-13T14:43:26.000Z" itemprop="datePublished">2021-01-13</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>
  </div>

      
      
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
      <p>转载：<a href="https://zhuanlan.zhihu.com/p/101752614" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/101752614</a> 和 <a href="https://www.cnblogs.com/eshizhan/archive/2011/11/30/2269325.html" target="_blank" rel="noopener">https://www.cnblogs.com/eshizhan/archive/2011/11/30/2269325.html</a></p>
<p>在用linux命令时候,我们可以一行执行多条命令或者有条件的执行下一条命令，下面我们讲解一下linux命令分号&amp;&amp;和&amp;，|和||的用法</p>
<p><strong>“;”分号用法</strong></p>
<p>方式：command1 ; command2</p>
<p>用;号隔开每个命令, 每个命令按照从左到右的顺序,顺序执行， 彼此之间不关心是否失败， 所有命令都会执行。</p>
<p><strong>“| ”管道符用法</strong></p>
<p>上一条命令的输出，作为下一条命令参数</p>
<p>方式：command1 | command2</p>
<p>Linux所提供的管道符“|”将两个命令隔开，管道符左边命令的输出就会作为管道符右边命令的输入。连续使用管道意味着第一个命令的输出会作为 第二个命令的输入，第二个命令的输出又会作为第三个命令的输入，依此类推</p>
<p>利用一个管道<br># rpm -qa|grep licq<br>这条命令使用一个管道符“|”建立了一个管道。管道将rpm -qa命令的输出（包括系统中所有安装的RPM包）作为grep命令的输入，从而列出带有licq字符的RPM包来。</p>
<p>利用多个管道<br># cat /etc/passwd | grep /bin/bash | wc -l<br>这条命令使用了两个管道，利用第一个管道将cat命令（显示passwd文件的内容）的输出送给grep命令，grep命令找出含有“/bin /bash”的所有行；第二个管道将grep的输出送给wc命令，wc命令统计出输入中的行数。这个命令的功能在于找出系统中有多少个用户使用bash</p>
<p><strong>“&amp;”符号用法</strong></p>
<p>&amp;放在启动参数后面表示设置此进程为后台进程</p>
<p>方式：command1 &amp;</p>
<p>默认情况下，进程是前台进程，这时就把Shell给占据了，我们无法进行其他操作，对于那些没有交互的进程，很多时候，我们希望将其在后台启动，可以在启动参数的时候加一个’&amp;’实现这个目的。</p>
<p><strong>“&amp;&amp;”符号用法</strong></p>
<p>shell 在执行某个命令的时候，会返回一个返回值，该返回值保存在 shell 变量 $? 中。当 $? == 0 时，表示执行成功；当 $? == 1 时（我认为是非0的数，返回值在0-255间），表示执行失败。</p>
<p>有时候，下一条命令依赖前一条命令是否执行成功。如：在成功地执行一条命令之后再执行另一条命令，或者在一条命令执行失败后再执行另一条命令等。shell 提供了 &amp;&amp; 和 || 来实现命令执行控制的功能，shell 将根据 &amp;&amp; 或 || 前面命令的返回值来控制其后面命令的执行。</p>
<p>语法格式如下：</p>
<p>command1 &amp;&amp; command2 [&amp;&amp; command3 …]</p>
<p>命令之间使用 &amp;&amp; 连接，实现逻辑与的功能。<br>只有在 &amp;&amp; 左边的命令返回真（命令返回值 $? == 0），&amp;&amp; 右边的命令才会被执行。<br>只要有一个命令返回假（命令返回值 $? == 1），后面的命令就不会被执行。</p>
<p><strong>“||”符号用法</strong></p>
<p>逻辑或的功能</p>
<p>语法格式如下：</p>
<p>command1 || command2 [|| command3 …]</p>
<p>命令之间使用 || 连接，实现逻辑或的功能。<br>只有在 || 左边的命令返回假（命令返回值 $? == 1），|| 右边的命令才会被执行。这和 c 语言中的逻辑或语法功能相同，即实现短路逻辑或操作。<br>只要有一个命令返回真（命令返回值 $? == 0），后面的命令就不会被执行。 –直到返回真的地方停止执行。</p>
<p>举例，ping命令判断存活主机</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ping -c 1 -w 1 192.168.1.1 &amp;&gt; /dev/null &amp;&amp; result=0 ||result=1</span><br><span class="line"><span class="keyword">if</span> [ <span class="string">"<span class="variable">$result</span>"</span> == 0 ];<span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"192.168.1.1 is UP!"</span>    </span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"192.168.2.1 is DOWN!"</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>

<p>注意 &amp;&gt;要连起来写。</p>
<p><strong>“`”符号用法</strong></p>
<p>位置：反引号（`）这个字符一般在键盘的左上角，数字1的左边，与（~）在同一键上，不要将其同单引号（’）混淆</p>
<p>作用：反引号括起来的字符串被shell解释为命令行，在执行时，shell首先执行该命令行，并以它的标准输出结果取代整个反引号（包括两个反引号）部分</p>
<p>举例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[eshizhan@localhost usr]$ echo &#96;date&#96;</span><br><span class="line">2011年 11月 30日 星期三 16:37:23 CST</span><br></pre></td></tr></table></figure>

<p><strong>“$”符号用法</strong></p>
<p>与反引号`类似</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo $(date)</span><br></pre></td></tr></table></figure>






      
      <!-- 打赏 -->
      
    </div>
    <footer class="article-footer">
      <a data-url="https://zkdingme.github.io/2021/01/13/Linux-shell-%E7%AC%A6%E5%8F%B7/" data-id="ckm0prb2o000qylj5f7ud5492"
        class="article-share-link">分享</a>
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/shell/" rel="tag">shell</a></li></ul>

    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-Linux-kill-signal" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2021/01/13/Linux-kill-signal/"
    >Linux Signals介绍</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2021/01/13/Linux-kill-signal/" class="article-date">
  <time datetime="2021-01-13T05:42:47.000Z" itemprop="datePublished">2021-01-13</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>
  </div>

      
      
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
      <p>Linux 中可以用Kill 命令向一个进程发送信号，改变进程执行状态，例如<code>kill -9 &lt;pid&gt;</code>杀死进程、<code>kill -STOP &lt;pid&gt;</code>暂停进程和<code>kill -CONT &lt;pid&gt;</code>恢复之前被STOP的进程。</p>
<p>所以一共有多少signal呢，可以用命令<code>man 7 signal</code>来查看一共有多少signal，结果如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br></pre></td><td class="code"><pre><span class="line">SIGNAL(7)               Linux Programmer&#39;s Manual              SIGNAL(7)</span><br><span class="line">NAME         top</span><br><span class="line">       signal - overview of signals</span><br><span class="line">DESCRIPTION         top</span><br><span class="line">       Linux supports both POSIX reliable signals (hereinafter &quot;standard</span><br><span class="line">       signals&quot;) and POSIX real-time signals.</span><br><span class="line"></span><br><span class="line">   Signal dispositions</span><br><span class="line">       Each signal has a current disposition, which determines how the</span><br><span class="line">       process behaves when it is delivered the signal.</span><br><span class="line"></span><br><span class="line">       The entries in the &quot;Action&quot; column of the table below specify the</span><br><span class="line">       default disposition for each signal, as follows:</span><br><span class="line"></span><br><span class="line">       Term   Default action is to terminate the process.</span><br><span class="line"></span><br><span class="line">       Ign    Default action is to ignore the signal.</span><br><span class="line"></span><br><span class="line">       Core   Default action is to terminate the process and dump core</span><br><span class="line">              (see core(5)).</span><br><span class="line"></span><br><span class="line">       Stop   Default action is to stop the process.</span><br><span class="line"></span><br><span class="line">       Cont   Default action is to continue the process if it is</span><br><span class="line">              currently stopped.</span><br><span class="line"></span><br><span class="line">       A process can change the disposition of a signal using</span><br><span class="line">       sigaction(2) or signal(2).  (The latter is less portable when</span><br><span class="line">       establishing a signal handler; see signal(2) for details.)  Using</span><br><span class="line">       these system calls, a process can elect one of the following</span><br><span class="line">       behaviors to occur on delivery of the signal: perform the default</span><br><span class="line">       action; ignore the signal; or catch the signal with a signal</span><br><span class="line">       handler, a programmer-defined function that is automatically</span><br><span class="line">       invoked when the signal is delivered.</span><br><span class="line"></span><br><span class="line">       By default, a signal handler is invoked on the normal process</span><br><span class="line">       stack.  It is possible to arrange that the signal handler uses an</span><br><span class="line">       alternate stack; see sigaltstack(2) for a discussion of how to do</span><br><span class="line">       this and when it might be useful.</span><br><span class="line"></span><br><span class="line">       The signal disposition is a per-process attribute: in a</span><br><span class="line">       multithreaded application, the disposition of a particular signal</span><br><span class="line">       is the same for all threads.</span><br><span class="line"></span><br><span class="line">       A child created via fork(2) inherits a copy of its parent&#39;s</span><br><span class="line">       signal dispositions.  During an execve(2), the dispositions of</span><br><span class="line">       handled signals are reset to the default; the dispositions of</span><br><span class="line">       ignored signals are left unchanged.</span><br><span class="line"></span><br><span class="line">   Sending a signal</span><br><span class="line">       The following system calls and library functions allow the caller</span><br><span class="line">       to send a signal:</span><br><span class="line"></span><br><span class="line">       raise(3)</span><br><span class="line">              Sends a signal to the calling thread.</span><br><span class="line"></span><br><span class="line">       kill(2)</span><br><span class="line">              Sends a signal to a specified process, to all members of a</span><br><span class="line">              specified process group, or to all processes on the</span><br><span class="line">              system.</span><br><span class="line"></span><br><span class="line">       pidfd_send_signal(2)</span><br><span class="line">              Sends a signal to a process identified by a PID file</span><br><span class="line">              descriptor.</span><br><span class="line"></span><br><span class="line">       killpg(3)</span><br><span class="line">              Sends a signal to all of the members of a specified</span><br><span class="line">              process group.</span><br><span class="line"></span><br><span class="line">       pthread_kill(3)</span><br><span class="line">              Sends a signal to a specified POSIX thread in the same</span><br><span class="line">              process as the caller.</span><br><span class="line"></span><br><span class="line">       tgkill(2)</span><br><span class="line">              Sends a signal to a specified thread within a specific</span><br><span class="line">              process.  (This is the system call used to implement</span><br><span class="line">              pthread_kill(3).)</span><br><span class="line"></span><br><span class="line">       sigqueue(3)</span><br><span class="line">              Sends a real-time signal with accompanying data to a</span><br><span class="line">              specified process.</span><br><span class="line"></span><br><span class="line">   Waiting for a signal to be caught</span><br><span class="line">       The following system calls suspend execution of the calling</span><br><span class="line">       thread until a signal is caught (or an unhandled signal</span><br><span class="line">       terminates the process):</span><br><span class="line"></span><br><span class="line">       pause(2)</span><br><span class="line">              Suspends execution until any signal is caught.</span><br><span class="line"></span><br><span class="line">       sigsuspend(2)</span><br><span class="line">              Temporarily changes the signal mask (see below) and</span><br><span class="line">              suspends execution until one of the unmasked signals is</span><br><span class="line">              caught.</span><br><span class="line"></span><br><span class="line">   Synchronously accepting a signal</span><br><span class="line">       Rather than asynchronously catching a signal via a signal</span><br><span class="line">       handler, it is possible to synchronously accept the signal, that</span><br><span class="line">       is, to block execution until the signal is delivered, at which</span><br><span class="line">       point the kernel returns information about the signal to the</span><br><span class="line">       caller.  There are two general ways to do this:</span><br><span class="line"></span><br><span class="line">       * sigwaitinfo(2), sigtimedwait(2), and sigwait(3) suspend</span><br><span class="line">         execution until one of the signals in a specified set is</span><br><span class="line">         delivered.  Each of these calls returns information about the</span><br><span class="line">         delivered signal.</span><br><span class="line"></span><br><span class="line">       * signalfd(2) returns a file descriptor that can be used to read</span><br><span class="line">         information about signals that are delivered to the caller.</span><br><span class="line">         Each read(2) from this file descriptor blocks until one of the</span><br><span class="line">         signals in the set specified in the signalfd(2) call is</span><br><span class="line">         delivered to the caller.  The buffer returned by read(2)</span><br><span class="line">         contains a structure describing the signal.</span><br><span class="line"></span><br><span class="line">   Signal mask and pending signals</span><br><span class="line">       A signal may be blocked, which means that it will not be</span><br><span class="line">       delivered until it is later unblocked.  Between the time when it</span><br><span class="line">       is generated and when it is delivered a signal is said to be</span><br><span class="line">       pending.</span><br><span class="line"></span><br><span class="line">       Each thread in a process has an independent signal mask, which</span><br><span class="line">       indicates the set of signals that the thread is currently</span><br><span class="line">       blocking.  A thread can manipulate its signal mask using</span><br><span class="line">       pthread_sigmask(3).  In a traditional single-threaded</span><br><span class="line">       application, sigprocmask(2) can be used to manipulate the signal</span><br><span class="line">       mask.</span><br><span class="line"></span><br><span class="line">       A child created via fork(2) inherits a copy of its parent&#39;s</span><br><span class="line">       signal mask; the signal mask is preserved across execve(2).</span><br><span class="line"></span><br><span class="line">       A signal may be process-directed or thread-directed.  A process-</span><br><span class="line">       directed signal is one that is targeted at (and thus pending for)</span><br><span class="line">       the process as a whole.  A signal may be process-directed because</span><br><span class="line">       it was generated by the kernel for reasons other than a hardware</span><br><span class="line">       exception, or because it was sent using kill(2) or sigqueue(3).</span><br><span class="line">       A thread-directed signal is one that is targeted at a specific</span><br><span class="line">       thread.  A signal may be thread-directed because it was generated</span><br><span class="line">       as a consequence of executing a specific machine-language</span><br><span class="line">       instruction that triggered a hardware exception (e.g., SIGSEGV</span><br><span class="line">       for an invalid memory access, or SIGFPE for a math error), or</span><br><span class="line">       because it was targeted at a specific thread using interfaces</span><br><span class="line">       such as tgkill(2) or pthread_kill(3).</span><br><span class="line"></span><br><span class="line">       A process-directed signal may be delivered to any one of the</span><br><span class="line">       threads that does not currently have the signal blocked.  If more</span><br><span class="line">       than one of the threads has the signal unblocked, then the kernel</span><br><span class="line">       chooses an arbitrary thread to which to deliver the signal.</span><br><span class="line"></span><br><span class="line">       A thread can obtain the set of signals that it currently has</span><br><span class="line">       pending using sigpending(2).  This set will consist of the union</span><br><span class="line">       of the set of pending process-directed signals and the set of</span><br><span class="line">       signals pending for the calling thread.</span><br><span class="line"></span><br><span class="line">       A child created via fork(2) initially has an empty pending signal</span><br><span class="line">       set; the pending signal set is preserved across an execve(2).</span><br><span class="line"></span><br><span class="line">   Execution of signal handlers</span><br><span class="line">       Whenever there is a transition from kernel-mode to user-mode</span><br><span class="line">       execution (e.g., on return from a system call or scheduling of a</span><br><span class="line">       thread onto the CPU), the kernel checks whether there is a</span><br><span class="line">       pending unblocked signal for which the process has established a</span><br><span class="line">       signal handler.  If there is such a pending signal, the following</span><br><span class="line">       steps occur:</span><br><span class="line"></span><br><span class="line">       1. The kernel performs the necessary preparatory steps for</span><br><span class="line">          execution of the signal handler:</span><br><span class="line"></span><br><span class="line">          a) The signal is removed from the set of pending signals.</span><br><span class="line"></span><br><span class="line">          b) If the signal handler was installed by a call to</span><br><span class="line">             sigaction(2) that specified the SA_ONSTACK flag and the</span><br><span class="line">             thread has defined an alternate signal stack (using</span><br><span class="line">             sigaltstack(2)), then that stack is installed.</span><br><span class="line"></span><br><span class="line">          c) Various pieces of signal-related context are saved into a</span><br><span class="line">             special frame that is created on the stack.  The saved</span><br><span class="line">             information includes:</span><br><span class="line"></span><br><span class="line">             + the program counter register (i.e., the address of the</span><br><span class="line">               next instruction in the main program that should be</span><br><span class="line">               executed when the signal handler returns);</span><br><span class="line"></span><br><span class="line">             + architecture-specific register state required for</span><br><span class="line">               resuming the interrupted program;</span><br><span class="line"></span><br><span class="line">             + the thread&#39;s current signal mask;</span><br><span class="line"></span><br><span class="line">             + the thread&#39;s alternate signal stack settings.</span><br><span class="line"></span><br><span class="line">             (If the signal handler was installed using the sigaction(2)</span><br><span class="line">             SA_SIGINFO flag, then the above information is accessible</span><br><span class="line">             via the ucontext_t object that is pointed to by the third</span><br><span class="line">             argument of the signal handler.)</span><br><span class="line"></span><br><span class="line">          d) Any signals specified in act-&gt;sa_mask when registering the</span><br><span class="line">             handler with sigprocmask(2) are added to the thread&#39;s</span><br><span class="line">             signal mask.  The signal being delivered is also added to</span><br><span class="line">             the signal mask, unless SA_NODEFER was specified when</span><br><span class="line">             registering the handler.  These signals are thus blocked</span><br><span class="line">             while the handler executes.</span><br><span class="line"></span><br><span class="line">       2. The kernel constructs a frame for the signal handler on the</span><br><span class="line">          stack.  The kernel sets the program counter for the thread to</span><br><span class="line">          point to the first instruction of the signal handler function,</span><br><span class="line">          and configures the return address for that function to point</span><br><span class="line">          to a piece of user-space code known as the signal trampoline</span><br><span class="line">          (described in sigreturn(2)).</span><br><span class="line"></span><br><span class="line">       3. The kernel passes control back to user-space, where execution</span><br><span class="line">          commences at the start of the signal handler function.</span><br><span class="line"></span><br><span class="line">       4. When the signal handler returns, control passes to the signal</span><br><span class="line">          trampoline code.</span><br><span class="line"></span><br><span class="line">       5. The signal trampoline calls sigreturn(2), a system call that</span><br><span class="line">          uses the information in the stack frame created in step 1 to</span><br><span class="line">          restore the thread to its state before the signal handler was</span><br><span class="line">          called.  The thread&#39;s signal mask and alternate signal stack</span><br><span class="line">          settings are restored as part of this procedure.  Upon</span><br><span class="line">          completion of the call to sigreturn(2), the kernel transfers</span><br><span class="line">          control back to user space, and the thread recommences</span><br><span class="line">          execution at the point where it was interrupted by the signal</span><br><span class="line">          handler.</span><br><span class="line"></span><br><span class="line">       Note that if the signal handler does not return (e.g., control is</span><br><span class="line">       transferred out of the handler using siglongjmp(3), or the</span><br><span class="line">       handler executes a new program with execve(2)), then the final</span><br><span class="line">       step is not performed.  In particular, in such scenarios it is</span><br><span class="line">       the programmer&#39;s responsibility to restore the state of the</span><br><span class="line">       signal mask (using sigprocmask(2)), if it is desired to unblock</span><br><span class="line">       the signals that were blocked on entry to the signal handler.</span><br><span class="line">       (Note that siglongjmp(3) may or may not restore the signal mask,</span><br><span class="line">       depending on the savesigs value that was specified in the</span><br><span class="line">       corresponding call to sigsetjmp(3).)</span><br><span class="line"></span><br><span class="line">       From the kernel&#39;s point of view, execution of the signal handler</span><br><span class="line">       code is exactly the same as the execution of any other user-space</span><br><span class="line">       code.  That is to say, the kernel does not record any special</span><br><span class="line">       state information indicating that the thread is currently</span><br><span class="line">       excuting inside a signal handler.  All necessary state</span><br><span class="line">       information is maintained in user-space registers and the user-</span><br><span class="line">       space stack.  The depth to which nested signal handlers may be</span><br><span class="line">       invoked is thus limited only by the user-space stack (and</span><br><span class="line">       sensible software design!).</span><br><span class="line"></span><br><span class="line">   Standard signals</span><br><span class="line">       Linux supports the standard signals listed below.  The second</span><br><span class="line">       column of the table indicates which standard (if any) specified</span><br><span class="line">       the signal: &quot;P1990&quot; indicates that the signal is described in the</span><br><span class="line">       original POSIX.1-1990 standard; &quot;P2001&quot; indicates that the signal</span><br><span class="line">       was added in SUSv2 and POSIX.1-2001.</span><br><span class="line"></span><br><span class="line">       Signal      Standard   Action   Comment</span><br><span class="line">       ────────────────────────────────────────────────────────────────────────</span><br><span class="line">       SIGABRT      P1990      Core    Abort signal from abort(3)</span><br><span class="line">       SIGALRM      P1990      Term    Timer signal from alarm(2)</span><br><span class="line">       SIGBUS       P2001      Core    Bus error (bad memory access)</span><br><span class="line">       SIGCHLD      P1990      Ign     Child stopped or terminated</span><br><span class="line">       SIGCLD         -        Ign     A synonym for SIGCHLD</span><br><span class="line">       SIGCONT      P1990      Cont    Continue if stopped</span><br><span class="line">       SIGEMT         -        Term    Emulator trap</span><br><span class="line">       SIGFPE       P1990      Core    Floating-point exception</span><br><span class="line">       SIGHUP       P1990      Term    Hangup detected on controlling terminal</span><br><span class="line">                                       or death of controlling process</span><br><span class="line">       SIGILL       P1990      Core    Illegal Instruction</span><br><span class="line">       SIGINFO        -                A synonym for SIGPWR</span><br><span class="line">       SIGINT       P1990      Term    Interrupt from keyboard</span><br><span class="line"></span><br><span class="line">       SIGIO          -        Term    I&#x2F;O now possible (4.2BSD)</span><br><span class="line">       SIGIOT         -        Core    IOT trap. A synonym for SIGABRT</span><br><span class="line">       SIGKILL      P1990      Term    Kill signal</span><br><span class="line">       SIGLOST        -        Term    File lock lost (unused)</span><br><span class="line">       SIGPIPE      P1990      Term    Broken pipe: write to pipe with no</span><br><span class="line">                                       readers; see pipe(7)</span><br><span class="line">       SIGPOLL      P2001      Term    Pollable event (Sys V);</span><br><span class="line">                                       synonym for SIGIO</span><br><span class="line">       SIGPROF      P2001      Term    Profiling timer expired</span><br><span class="line">       SIGPWR         -        Term    Power failure (System V)</span><br><span class="line">       SIGQUIT      P1990      Core    Quit from keyboard</span><br><span class="line">       SIGSEGV      P1990      Core    Invalid memory reference</span><br><span class="line">       SIGSTKFLT      -        Term    Stack fault on coprocessor (unused)</span><br><span class="line">       SIGSTOP      P1990      Stop    Stop process</span><br><span class="line">       SIGTSTP      P1990      Stop    Stop typed at terminal</span><br><span class="line">       SIGSYS       P2001      Core    Bad system call (SVr4);</span><br><span class="line">                                       see also seccomp(2)</span><br><span class="line">       SIGTERM      P1990      Term    Termination signal</span><br><span class="line">       SIGTRAP      P2001      Core    Trace&#x2F;breakpoint trap</span><br><span class="line">       SIGTTIN      P1990      Stop    Terminal input for background process</span><br><span class="line">       SIGTTOU      P1990      Stop    Terminal output for background process</span><br><span class="line">       SIGUNUSED      -        Core    Synonymous with SIGSYS</span><br><span class="line">       SIGURG       P2001      Ign     Urgent condition on socket (4.2BSD)</span><br><span class="line">       SIGUSR1      P1990      Term    User-defined signal 1</span><br><span class="line">       SIGUSR2      P1990      Term    User-defined signal 2</span><br><span class="line">       SIGVTALRM    P2001      Term    Virtual alarm clock (4.2BSD)</span><br><span class="line">       SIGXCPU      P2001      Core    CPU time limit exceeded (4.2BSD);</span><br><span class="line">                                       see setrlimit(2)</span><br><span class="line">       SIGXFSZ      P2001      Core    File size limit exceeded (4.2BSD);</span><br><span class="line">                                       see setrlimit(2)</span><br><span class="line">       SIGWINCH       -        Ign     Window resize signal (4.3BSD, Sun)</span><br><span class="line"></span><br><span class="line">       The signals SIGKILL and SIGSTOP cannot be caught, blocked, or</span><br><span class="line">       ignored.</span><br><span class="line"></span><br><span class="line">       Up to and including Linux 2.2, the default behavior for SIGSYS,</span><br><span class="line">       SIGXCPU, SIGXFSZ, and (on architectures other than SPARC and</span><br><span class="line">       MIPS) SIGBUS was to terminate the process (without a core dump).</span><br><span class="line">       (On some other UNIX systems the default action for SIGXCPU and</span><br><span class="line">       SIGXFSZ is to terminate the process without a core dump.)  Linux</span><br><span class="line">       2.4 conforms to the POSIX.1-2001 requirements for these signals,</span><br><span class="line">       terminating the process with a core dump.</span><br><span class="line"></span><br><span class="line">       SIGEMT is not specified in POSIX.1-2001, but nevertheless appears</span><br><span class="line">       on most other UNIX systems, where its default action is typically</span><br><span class="line">       to terminate the process with a core dump.</span><br><span class="line"></span><br><span class="line">       SIGPWR (which is not specified in POSIX.1-2001) is typically</span><br><span class="line">       ignored by default on those other UNIX systems where it appears.</span><br><span class="line"></span><br><span class="line">       SIGIO (which is not specified in POSIX.1-2001) is ignored by</span><br><span class="line">       default on several other UNIX systems.</span><br><span class="line"></span><br><span class="line">   Queueing and delivery semantics for standard signals</span><br><span class="line">       If multiple standard signals are pending for a process, the order</span><br><span class="line">       in which the signals are delivered is unspecified.</span><br><span class="line"></span><br><span class="line">       Standard signals do not queue.  If multiple instances of a</span><br><span class="line">       standard signal are generated while that signal is blocked, then</span><br><span class="line">       only one instance of the signal is marked as pending (and the</span><br><span class="line">       signal will be delivered just once when it is unblocked).  In the</span><br><span class="line">       case where a standard signal is already pending, the siginfo_t</span><br><span class="line">       structure (see sigaction(2)) associated with that signal is not</span><br><span class="line">       overwritten on arrival of subsequent instances of the same</span><br><span class="line">       signal.  Thus, the process will receive the information</span><br><span class="line">       associated with the first instance of the signal.</span><br><span class="line"></span><br><span class="line">   Signal numbering for standard signals</span><br><span class="line">       The numeric value for each signal is given in the table below.</span><br><span class="line">       As shown in the table, many signals have different numeric values</span><br><span class="line">       on different architectures.  The first numeric value in each</span><br><span class="line">       table row shows the signal number on x86, ARM, and most other</span><br><span class="line">       architectures; the second value is for Alpha and SPARC; the third</span><br><span class="line">       is for MIPS; and the last is for PARISC.  A dash (-) denotes that</span><br><span class="line">       a signal is absent on the corresponding architecture.</span><br><span class="line"></span><br><span class="line">       Signal        x86&#x2F;ARM     Alpha&#x2F;   MIPS   PARISC   Notes</span><br><span class="line">                   most others   SPARC</span><br><span class="line">       ─────────────────────────────────────────────────────────────────</span><br><span class="line">       SIGHUP           1           1       1       1</span><br><span class="line">       SIGINT           2           2       2       2</span><br><span class="line">       SIGQUIT          3           3       3       3</span><br><span class="line">       SIGILL           4           4       4       4</span><br><span class="line">       SIGTRAP          5           5       5       5</span><br><span class="line">       SIGABRT          6           6       6       6</span><br><span class="line">       SIGIOT           6           6       6       6</span><br><span class="line">       SIGBUS           7          10      10      10</span><br><span class="line">       SIGEMT           -           7       7      -</span><br><span class="line">       SIGFPE           8           8       8       8</span><br><span class="line">       SIGKILL          9           9       9       9</span><br><span class="line">       SIGUSR1         10          30      16      16</span><br><span class="line">       SIGSEGV         11          11      11      11</span><br><span class="line">       SIGUSR2         12          31      17      17</span><br><span class="line">       SIGPIPE         13          13      13      13</span><br><span class="line">       SIGALRM         14          14      14      14</span><br><span class="line">       SIGTERM         15          15      15      15</span><br><span class="line">       SIGSTKFLT       16          -       -        7</span><br><span class="line">       SIGCHLD         17          20      18      18</span><br><span class="line">       SIGCLD           -          -       18      -</span><br><span class="line">       SIGCONT         18          19      25      26</span><br><span class="line">       SIGSTOP         19          17      23      24</span><br><span class="line">       SIGTSTP         20          18      24      25</span><br><span class="line">       SIGTTIN         21          21      26      27</span><br><span class="line">       SIGTTOU         22          22      27      28</span><br><span class="line">       SIGURG          23          16      21      29</span><br><span class="line">       SIGXCPU         24          24      30      12</span><br><span class="line">       SIGXFSZ         25          25      31      30</span><br><span class="line">       SIGVTALRM       26          26      28      20</span><br><span class="line">       SIGPROF         27          27      29      21</span><br><span class="line">       SIGWINCH        28          28      20      23</span><br><span class="line">       SIGIO           29          23      22      22</span><br><span class="line">       SIGPOLL                                            Same as SIGIO</span><br><span class="line">       SIGPWR          30         29&#x2F;-     19      19</span><br><span class="line">       SIGINFO          -         29&#x2F;-     -       -</span><br><span class="line">       SIGLOST          -         -&#x2F;29     -       -</span><br><span class="line">       SIGSYS          31          12      12      31</span><br><span class="line">       SIGUNUSED       31          -       -       31</span><br><span class="line"></span><br><span class="line">       Note the following:</span><br><span class="line"></span><br><span class="line">       *  Where defined, SIGUNUSED is synonymous with SIGSYS.  Since</span><br><span class="line">          glibc 2.26, SIGUNUSED is no longer defined on any</span><br><span class="line">          architecture.</span><br><span class="line"></span><br><span class="line">       *  Signal 29 is SIGINFO&#x2F;SIGPWR (synonyms for the same value) on</span><br><span class="line">          Alpha but SIGLOST on SPARC.</span><br><span class="line"></span><br><span class="line">   Real-time signals</span><br><span class="line">       Starting with version 2.2, Linux supports real-time signals as</span><br><span class="line">       originally defined in the POSIX.1b real-time extensions (and now</span><br><span class="line">       included in POSIX.1-2001).  The range of supported real-time</span><br><span class="line">       signals is defined by the macros SIGRTMIN and SIGRTMAX.</span><br><span class="line">       POSIX.1-2001 requires that an implementation support at least</span><br><span class="line">       _POSIX_RTSIG_MAX (8) real-time signals.</span><br><span class="line"></span><br><span class="line">       The Linux kernel supports a range of 33 different real-time</span><br><span class="line">       signals, numbered 32 to 64.  However, the glibc POSIX threads</span><br><span class="line">       implementation internally uses two (for NPTL) or three (for</span><br><span class="line">       LinuxThreads) real-time signals (see pthreads(7)), and adjusts</span><br><span class="line">       the value of SIGRTMIN suitably (to 34 or 35).  Because the range</span><br><span class="line">       of available real-time signals varies according to the glibc</span><br><span class="line">       threading implementation (and this variation can occur at run</span><br><span class="line">       time according to the available kernel and glibc), and indeed the</span><br><span class="line">       range of real-time signals varies across UNIX systems, programs</span><br><span class="line">       should never refer to real-time signals using hard-coded numbers,</span><br><span class="line">       but instead should always refer to real-time signals using the</span><br><span class="line">       notation SIGRTMIN+n, and include suitable (run-time) checks that</span><br><span class="line">       SIGRTMIN+n does not exceed SIGRTMAX.</span><br><span class="line"></span><br><span class="line">       Unlike standard signals, real-time signals have no predefined</span><br><span class="line">       meanings: the entire set of real-time signals can be used for</span><br><span class="line">       application-defined purposes.</span><br><span class="line"></span><br><span class="line">       The default action for an unhandled real-time signal is to</span><br><span class="line">       terminate the receiving process.</span><br><span class="line"></span><br><span class="line">       Real-time signals are distinguished by the following:</span><br><span class="line"></span><br><span class="line">       1.  Multiple instances of real-time signals can be queued.  By</span><br><span class="line">           contrast, if multiple instances of a standard signal are</span><br><span class="line">           delivered while that signal is currently blocked, then only</span><br><span class="line">           one instance is queued.</span><br><span class="line"></span><br><span class="line">       2.  If the signal is sent using sigqueue(3), an accompanying</span><br><span class="line">           value (either an integer or a pointer) can be sent with the</span><br><span class="line">           signal.  If the receiving process establishes a handler for</span><br><span class="line">           this signal using the SA_SIGINFO flag to sigaction(2), then</span><br><span class="line">           it can obtain this data via the si_value field of the</span><br><span class="line">           siginfo_t structure passed as the second argument to the</span><br><span class="line">           handler.  Furthermore, the si_pid and si_uid fields of this</span><br><span class="line">           structure can be used to obtain the PID and real user ID of</span><br><span class="line">           the process sending the signal.</span><br><span class="line"></span><br><span class="line">       3.  Real-time signals are delivered in a guaranteed order.</span><br><span class="line">           Multiple real-time signals of the same type are delivered in</span><br><span class="line">           the order they were sent.  If different real-time signals are</span><br><span class="line">           sent to a process, they are delivered starting with the</span><br><span class="line">           lowest-numbered signal.  (I.e., low-numbered signals have</span><br><span class="line">           highest priority.)  By contrast, if multiple standard signals</span><br><span class="line">           are pending for a process, the order in which they are</span><br><span class="line">           delivered is unspecified.</span><br><span class="line"></span><br><span class="line">       If both standard and real-time signals are pending for a process,</span><br><span class="line">       POSIX leaves it unspecified which is delivered first.  Linux,</span><br><span class="line">       like many other implementations, gives priority to standard</span><br><span class="line">       signals in this case.</span><br><span class="line"></span><br><span class="line">       According to POSIX, an implementation should permit at least</span><br><span class="line">       _POSIX_SIGQUEUE_MAX (32) real-time signals to be queued to a</span><br><span class="line">       process.  However, Linux does things differently.  In kernels up</span><br><span class="line">       to and including 2.6.7, Linux imposes a system-wide limit on the</span><br><span class="line">       number of queued real-time signals for all processes.  This limit</span><br><span class="line">       can be viewed and (with privilege) changed via the</span><br><span class="line">       &#x2F;proc&#x2F;sys&#x2F;kernel&#x2F;rtsig-max file.  A related file,</span><br><span class="line">       &#x2F;proc&#x2F;sys&#x2F;kernel&#x2F;rtsig-nr, can be used to find out how many real-</span><br><span class="line">       time signals are currently queued.  In Linux 2.6.8, these &#x2F;proc</span><br><span class="line">       interfaces were replaced by the RLIMIT_SIGPENDING resource limit,</span><br><span class="line">       which specifies a per-user limit for queued signals; see</span><br><span class="line">       setrlimit(2) for further details.</span><br><span class="line"></span><br><span class="line">       The addition of real-time signals required the widening of the</span><br><span class="line">       signal set structure (sigset_t) from 32 to 64 bits.</span><br><span class="line">       Consequently, various system calls were superseded by new system</span><br><span class="line">       calls that supported the larger signal sets.  The old and new</span><br><span class="line">       system calls are as follows:</span><br><span class="line"></span><br><span class="line">       Linux 2.0 and earlier   Linux 2.2 and later</span><br><span class="line">       sigaction(2)            rt_sigaction(2)</span><br><span class="line">       sigpending(2)           rt_sigpending(2)</span><br><span class="line"></span><br><span class="line">       sigprocmask(2)          rt_sigprocmask(2)</span><br><span class="line">       sigreturn(2)            rt_sigreturn(2)</span><br><span class="line">       sigsuspend(2)           rt_sigsuspend(2)</span><br><span class="line">       sigtimedwait(2)         rt_sigtimedwait(2)</span><br><span class="line"></span><br><span class="line">   Interruption of system calls and library functions by signal handlers</span><br><span class="line">       If a signal handler is invoked while a system call or library</span><br><span class="line">       function call is blocked, then either:</span><br><span class="line"></span><br><span class="line">       * the call is automatically restarted after the signal handler</span><br><span class="line">         returns; or</span><br><span class="line"></span><br><span class="line">       * the call fails with the error EINTR.</span><br><span class="line"></span><br><span class="line">       Which of these two behaviors occurs depends on the interface and</span><br><span class="line">       whether or not the signal handler was established using the</span><br><span class="line">       SA_RESTART flag (see sigaction(2)).  The details vary across UNIX</span><br><span class="line">       systems; below, the details for Linux.</span><br><span class="line"></span><br><span class="line">       If a blocked call to one of the following interfaces is</span><br><span class="line">       interrupted by a signal handler, then the call is automatically</span><br><span class="line">       restarted after the signal handler returns if the SA_RESTART flag</span><br><span class="line">       was used; otherwise the call fails with the error EINTR:</span><br><span class="line"></span><br><span class="line">       * read(2), readv(2), write(2), writev(2), and ioctl(2) calls on</span><br><span class="line">         &quot;slow&quot; devices.  A &quot;slow&quot; device is one where the I&#x2F;O call may</span><br><span class="line">         block for an indefinite time, for example, a terminal, pipe, or</span><br><span class="line">         socket.  If an I&#x2F;O call on a slow device has already</span><br><span class="line">         transferred some data by the time it is interrupted by a signal</span><br><span class="line">         handler, then the call will return a success status (normally,</span><br><span class="line">         the number of bytes transferred).  Note that a (local) disk is</span><br><span class="line">         not a slow device according to this definition; I&#x2F;O operations</span><br><span class="line">         on disk devices are not interrupted by signals.</span><br><span class="line"></span><br><span class="line">       * open(2), if it can block (e.g., when opening a FIFO; see</span><br><span class="line">         fifo(7)).</span><br><span class="line"></span><br><span class="line">       * wait(2), wait3(2), wait4(2), waitid(2), and waitpid(2).</span><br><span class="line"></span><br><span class="line">       * Socket interfaces: accept(2), connect(2), recv(2), recvfrom(2),</span><br><span class="line">         recvmmsg(2), recvmsg(2), send(2), sendto(2), and sendmsg(2),</span><br><span class="line">         unless a timeout has been set on the socket (see below).</span><br><span class="line"></span><br><span class="line">       * File locking interfaces: flock(2) and the F_SETLKW and</span><br><span class="line">         F_OFD_SETLKW operations of fcntl(2)</span><br><span class="line"></span><br><span class="line">       * POSIX message queue interfaces: mq_receive(3),</span><br><span class="line">         mq_timedreceive(3), mq_send(3), and mq_timedsend(3).</span><br><span class="line"></span><br><span class="line">       * futex(2) FUTEX_WAIT (since Linux 2.6.22; beforehand, always</span><br><span class="line">         failed with EINTR).</span><br><span class="line"></span><br><span class="line">       * getrandom(2).</span><br><span class="line"></span><br><span class="line">       * pthread_mutex_lock(3), pthread_cond_wait(3), and related APIs.</span><br><span class="line"></span><br><span class="line">       * futex(2) FUTEX_WAIT_BITSET.</span><br><span class="line"></span><br><span class="line">       * POSIX semaphore interfaces: sem_wait(3) and sem_timedwait(3)</span><br><span class="line">         (since Linux 2.6.22; beforehand, always failed with EINTR).</span><br><span class="line"></span><br><span class="line">       * read(2) from an inotify(7) file descriptor (since Linux 3.8;</span><br><span class="line">         beforehand, always failed with EINTR).</span><br><span class="line"></span><br><span class="line">       The following interfaces are never restarted after being</span><br><span class="line">       interrupted by a signal handler, regardless of the use of</span><br><span class="line">       SA_RESTART; they always fail with the error EINTR when</span><br><span class="line">       interrupted by a signal handler:</span><br><span class="line"></span><br><span class="line">       * &quot;Input&quot; socket interfaces, when a timeout (SO_RCVTIMEO) has</span><br><span class="line">         been set on the socket using setsockopt(2): accept(2), recv(2),</span><br><span class="line">         recvfrom(2), recvmmsg(2) (also with a non-NULL timeout</span><br><span class="line">         argument), and recvmsg(2).</span><br><span class="line"></span><br><span class="line">       * &quot;Output&quot; socket interfaces, when a timeout (SO_RCVTIMEO) has</span><br><span class="line">         been set on the socket using setsockopt(2): connect(2),</span><br><span class="line">         send(2), sendto(2), and sendmsg(2).</span><br><span class="line"></span><br><span class="line">       * Interfaces used to wait for signals: pause(2), sigsuspend(2),</span><br><span class="line">         sigtimedwait(2), and sigwaitinfo(2).</span><br><span class="line"></span><br><span class="line">       * File descriptor multiplexing interfaces: epoll_wait(2),</span><br><span class="line">         epoll_pwait(2), poll(2), ppoll(2), select(2), and pselect(2).</span><br><span class="line"></span><br><span class="line">       * System V IPC interfaces: msgrcv(2), msgsnd(2), semop(2), and</span><br><span class="line">         semtimedop(2).</span><br><span class="line"></span><br><span class="line">       * Sleep interfaces: clock_nanosleep(2), nanosleep(2), and</span><br><span class="line">         usleep(3).</span><br><span class="line"></span><br><span class="line">       * io_getevents(2).</span><br><span class="line"></span><br><span class="line">       The sleep(3) function is also never restarted if interrupted by a</span><br><span class="line">       handler, but gives a success return: the number of seconds</span><br><span class="line">       remaining to sleep.</span><br><span class="line"></span><br><span class="line">   Interruption of system calls and library functions by stop signals</span><br><span class="line">       On Linux, even in the absence of signal handlers, certain</span><br><span class="line">       blocking interfaces can fail with the error EINTR after the</span><br><span class="line">       process is stopped by one of the stop signals and then resumed</span><br><span class="line">       via SIGCONT.  This behavior is not sanctioned by POSIX.1, and</span><br><span class="line">       doesn&#39;t occur on other systems.</span><br><span class="line"></span><br><span class="line">       The Linux interfaces that display this behavior are:</span><br><span class="line"></span><br><span class="line">       * &quot;Input&quot; socket interfaces, when a timeout (SO_RCVTIMEO) has</span><br><span class="line">         been set on the socket using setsockopt(2): accept(2), recv(2),</span><br><span class="line">         recvfrom(2), recvmmsg(2) (also with a non-NULL timeout</span><br><span class="line">         argument), and recvmsg(2).</span><br><span class="line"></span><br><span class="line">       * &quot;Output&quot; socket interfaces, when a timeout (SO_RCVTIMEO) has</span><br><span class="line">         been set on the socket using setsockopt(2): connect(2),</span><br><span class="line">         send(2), sendto(2), and sendmsg(2), if a send timeout</span><br><span class="line">         (SO_SNDTIMEO) has been set.</span><br><span class="line"></span><br><span class="line">       * epoll_wait(2), epoll_pwait(2).</span><br><span class="line"></span><br><span class="line">       * semop(2), semtimedop(2).</span><br><span class="line"></span><br><span class="line">       * sigtimedwait(2), sigwaitinfo(2).</span><br><span class="line"></span><br><span class="line">       * Linux 3.7 and earlier: read(2) from an inotify(7) file</span><br><span class="line">         descriptor</span><br><span class="line"></span><br><span class="line">       * Linux 2.6.21 and earlier: futex(2) FUTEX_WAIT,</span><br><span class="line">         sem_timedwait(3), sem_wait(3).</span><br><span class="line"></span><br><span class="line">       * Linux 2.6.8 and earlier: msgrcv(2), msgsnd(2).</span><br><span class="line"></span><br><span class="line">       * Linux 2.4 and earlier: nanosleep(2).</span><br><span class="line">CONFORMING TO         top</span><br><span class="line">       POSIX.1, except as noted.</span><br><span class="line">NOTES         top</span><br><span class="line">       For a discussion of async-signal-safe functions, see</span><br><span class="line">       signal-safety(7).</span><br><span class="line"></span><br><span class="line">       The &#x2F;proc&#x2F;[pid]&#x2F;task&#x2F;[tid]&#x2F;status file contains various fields</span><br><span class="line">       that show the signals that a thread is blocking (SigBlk),</span><br><span class="line">       catching (SigCgt), or ignoring (SigIgn).  (The set of signals</span><br><span class="line">       that are caught or ignored will be the same across all threads in</span><br><span class="line">       a process.)  Other fields show the set of pending signals that</span><br><span class="line">       are directed to the thread (SigPnd) as well as the set of pending</span><br><span class="line">       signals that are directed to the process as a whole (ShdPnd).</span><br><span class="line">       The corresponding fields in &#x2F;proc&#x2F;[pid]&#x2F;status show the</span><br><span class="line">       information for the main thread.  See proc(5) for further</span><br><span class="line">       details.</span><br><span class="line">BUGS         top</span><br><span class="line">       There are six signals that can be delivered as a consequence of a</span><br><span class="line">       hardware exception: SIGBUS, SIGEMT, SIGFPE, SIGILL, SIGSEGV, and</span><br><span class="line">       SIGTRAP.  Which of these signals is delivered, for any given</span><br><span class="line">       hardware exception, is not documented and does not always make</span><br><span class="line">       sense.</span><br><span class="line"></span><br><span class="line">       For example, an invalid memory access that causes delivery of</span><br><span class="line">       SIGSEGV on one CPU architecture may cause delivery of SIGBUS on</span><br><span class="line">       another architecture, or vice versa.</span><br><span class="line"></span><br><span class="line">       For another example, using the x86 int instruction with a</span><br><span class="line">       forbidden argument (any number other than 3 or 128) causes</span><br><span class="line">       delivery of SIGSEGV, even though SIGILL would make more sense,</span><br><span class="line">       because of how the CPU reports the forbidden operation to the</span><br><span class="line">       kernel.</span><br><span class="line">SEE ALSO         top</span><br><span class="line">       kill(1), clone(2), getrlimit(2), kill(2), pidfd_send_signal(2),</span><br><span class="line">       restart_syscall(2), rt_sigqueueinfo(2), setitimer(2),</span><br><span class="line">       setrlimit(2), sgetmask(2), sigaction(2), sigaltstack(2),</span><br><span class="line">       signal(2), signalfd(2), sigpending(2), sigprocmask(2),</span><br><span class="line">       sigreturn(2), sigsuspend(2), sigwaitinfo(2), abort(3),</span><br><span class="line">       bsd_signal(3), killpg(3), longjmp(3), pthread_sigqueue(3),</span><br><span class="line">       raise(3), sigqueue(3), sigset(3), sigsetops(3), sigvec(3),</span><br><span class="line">       sigwait(3), strsignal(3), swapcontext(3), sysv_signal(3),</span><br><span class="line">       core(5), proc(5), nptl(7), pthreads(7), sigevent(7)</span><br><span class="line">COLOPHON         top</span><br><span class="line">       This page is part of release 5.10 of the Linux man-pages project.</span><br><span class="line">       A description of the project, information about reporting bugs,</span><br><span class="line">       and the latest version of this page, can be found at</span><br><span class="line">       https:&#x2F;&#x2F;www.kernel.org&#x2F;doc&#x2F;man-pages&#x2F;.</span><br></pre></td></tr></table></figure>


      
      <!-- 打赏 -->
      
    </div>
    <footer class="article-footer">
      <a data-url="https://zkdingme.github.io/2021/01/13/Linux-kill-signal/" data-id="ckm0prb2p000uylj59jz69lem"
        class="article-share-link">分享</a>
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Signals/" rel="tag">Signals</a></li></ul>

    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-docker-volume迁移" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/11/25/docker-volume%E8%BF%81%E7%A7%BB/"
    >docker容器迁移—volume迁移</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/11/25/docker-volume%E8%BF%81%E7%A7%BB/" class="article-date">
  <time datetime="2020-11-25T12:30:20.000Z" itemprop="datePublished">2020-11-25</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/docker/">docker</a>
  </div>

      
      
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
      <p>问题描述：出于性能考虑，我们准备将elasticsearch服务(用docker部署)迁移到一台配置更高的机器，所以就需要将elasticsearch里面的数据传到新的机器上并重新挂载然后重新服务。</p>
<h2 id="数据存储路径是什么"><a href="#数据存储路径是什么" class="headerlink" title="数据存储路径是什么"></a>数据存储路径是什么</h2><p>这里建议看下<a href="https://docs.docker.com/storage/" target="_blank" rel="noopener">docker官方文档对于数据管理的说明</a>。</p>
<p>这个要看一开始你的容器配置。</p>
<p>如果你的容器启动时没有挂载任何目录，那么所有的数据都是储存在容器实例里面。以elasticsearch为例，数据存储在elasticsearch容器的<code>/usr/share/elasticsearch/data</code>目录下。这时候要把数据pull出来是一件比较困难的事情，一般这个时候就直接迁移整个container了。</p>
<p>把数据(以数据分析场景为例就是数据分析程序、原属log数据、分析结果)存储在容器内其实是一种不正确的容器使用方式。docker容器其实就是个runtime，容器里面不应该放跟runtime无关的东西。例如你可以在一个elasticsearch的容器里面配置新的python，但是没必要把你写的数据处理的python脚本也放进去，python脚本应该mount到容器上。并且读写container内的数据性能是比读写本地文件差的，参考<a href="https://docs.docker.com/storage/storagedriver/" target="_blank" rel="noopener">docker storagedriver文档</a>。</p>
<p>docker支持三种mount方式: volume、bind mount和tmpfs mount。这三种方式的共同点是他们都是把本地文件系统的空间mount到docker容器上，docker和host都可以对这部分空间进行读写造作，不同点在于到底是mount的host上的哪部分空间。</p>
<p><img src="https://docs.docker.com/storage/images/types-of-mounts.png" alt=""></p>
<p>这是docker文档上介绍三种mount方式的图，可以明显看出三者mount方式的异同。</p>
<ul>
<li><p>volume<br>volume方式是在host文件系统上分配给docker的目录内新建一个目录，然后将这个目录挂载到容器上。linux上这个目录是<code>/var/lib/docker/volumes</code>。</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">elasticsearch:</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">type:</span> <span class="string">volume</span> <span class="comment"># volume 挂载</span></span><br><span class="line">        <span class="attr">source:</span> <span class="string">elasticsearch</span></span><br><span class="line">        <span class="attr">target:</span> <span class="string">/usr/share/elasticsearch/data</span></span><br></pre></td></tr></table></figure>

<p>这里docker就会在<code>/var/lib/docker/volumes</code>目录下新建一个elasticsearch目录，然后将这个目录mount到容器上。<br>docker命令行也提供了一些命令来管理volume:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">xxxxx@xxxx:~$ docker volume COMMAND --help</span><br><span class="line"></span><br><span class="line">Usage:	docker volume COMMAND</span><br><span class="line"></span><br><span class="line">Manage volumes</span><br><span class="line"></span><br><span class="line">Commands:</span><br><span class="line">  create      Create a volume</span><br><span class="line">  inspect     Display detailed information on one or more volumes</span><br><span class="line">  ls          List volumes</span><br><span class="line">  prune       Remove all unused local volumes</span><br><span class="line">  rm          Remove one or more volumes</span><br><span class="line"></span><br><span class="line">Run 'docker volume COMMAND --help' for more information on a command.</span><br></pre></td></tr></table></figure>
</li>
<li><p>bind mount<br>bind mount可以挂载文件系统上任意一个目的到容器，例如<code>/home/xxx/docker-elastic-mount</code></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">elasticsearch:</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">type:</span> <span class="string">bind</span> <span class="comment"># bind mount</span></span><br><span class="line">        <span class="attr">source:</span> <span class="string">/home/xxx/docker-elastic-mount</span></span><br><span class="line">        <span class="attr">target:</span> <span class="string">/usr/share/elasticsearch/data</span></span><br></pre></td></tr></table></figure>

<p>这里就把/home/xxx/docker-elastic-mount目录挂载到elasticsearch容器上，elasticsearch的数据都会存储到这个文件夹。bind mount方式相比于volume方式，优点在于可选的目录范围更广，并且host也可以对挂载的空间进行读写。volume方式挂载时目录只允许docker进行读写，host除非是root用户否则不能读写。</p>
</li>
<li><p>tmpfs mount<br>tmpfs mount是把内存里面的一块区域mount到容器上。这个读写肯定是最快的，但是显然也不可扩展，内存就那么大，而且一旦断电，数据也都没了。</p>
</li>
</ul>
<p>综上，如果是为了迁移方面考虑的话，推荐bind mount的方式。</p>
<h2 id="怎么快速并且完整的将数据传到新机器上"><a href="#怎么快速并且完整的将数据传到新机器上" class="headerlink" title="怎么快速并且完整的将数据传到新机器上"></a>怎么快速并且完整的将数据传到新机器上</h2><p>数据从老机器同步到新机器推荐用rsync进行同步，rsync同步的时候不会改变文件的权限，并且传输过程中还可以压缩，降低导出流量。</p>
<p>rsync -avzhP src des</p>
<h2 id="如何重新挂载"><a href="#如何重新挂载" class="headerlink" title="如何重新挂载"></a>如何重新挂载</h2><p>当数据目录同步到新机器上后，就可以用bind mount的方式重新挂载上去，例如</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">elasticsearch:</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">type:</span> <span class="string">bind</span> <span class="comment"># bind mount</span></span><br><span class="line">        <span class="attr">source:</span> <span class="string">/home/xxx/docker-elastic-mount</span></span><br><span class="line">        <span class="attr">target:</span> <span class="string">/usr/share/elasticsearch/data</span></span><br></pre></td></tr></table></figure>

<p>这里需要注意的是，如果你的老机器是volume挂载的，你是把老机器上/var/lib/docker/volumes里面的volume同步到新机器上然后bind mount，会有一个权限问题。volume的权限是drwxr-xr-x，只有root才可以读写，所以需要改一下权限。</p>
<p>最简单的方法是<code>chmod -R 777 &lt;volume&gt;</code>，当然这非常不安全。推荐还是改一下文件拥有者<code>chown -R whoami:groups &lt;volume&gt;</code>。</p>

      
      <!-- 打赏 -->
      
    </div>
    <footer class="article-footer">
      <a data-url="https://zkdingme.github.io/2020/11/25/docker-volume%E8%BF%81%E7%A7%BB/" data-id="ckm0prb2y001qylj5fmya47wp"
        class="article-share-link">分享</a>
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/volume/" rel="tag">volume</a></li></ul>

    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-adbuninstall与在桌面卸载的区别" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/11/22/adbuninstall%E4%B8%8E%E5%9C%A8%E6%A1%8C%E9%9D%A2%E5%8D%B8%E8%BD%BD%E7%9A%84%E5%8C%BA%E5%88%AB/"
    >adb install&amp;uninstall 原理</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/11/22/adbuninstall%E4%B8%8E%E5%9C%A8%E6%A1%8C%E9%9D%A2%E5%8D%B8%E8%BD%BD%E7%9A%84%E5%8C%BA%E5%88%AB/" class="article-date">
  <time datetime="2020-11-22T06:39:53.000Z" itemprop="datePublished">2020-11-22</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

      
      
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
      <p>adb: failed to install app-release.apk: Failure [INSTALL_FAILED_UPDATE_INCOMPATIBLE: Package io.appetizer.secsensedev signatures do not match previously installed version; ignoring!]</p>
<p>最近测试一款App时，遇到这样一个问题：同一个App有一个debug包和一个release包，这两个包签名的证书是不一样的。我在华为Mate30上先<code>adb install app-debug.apk</code>，测试完成后直接在桌面长按卸载(注意这里不是adb uninstall卸载)，然后我继续<code>adb install app-release.apk</code>，但这会报错了：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb: failed to install app-release.apk: Failure [INSTALL_FAILED_UPDATE_INCOMPATIBLE: Package XXX signatures do not match previously installed version; ignoring!]</span><br></pre></td></tr></table></figure>

<p>看报错信息是签名不一致导致的，应该是手机里面保留了&lt;pkgname, signatures&gt;这样的数据，简单说就是没卸载干净。然后我使用<code>adb uninstall XXX</code>卸载了一下，在安装release包就可以了。看上去是adb uninstall卸载的更干净一点，之后我在雷电模拟器replay这个过程，发现没有这样的问题，雷电模拟器的桌面卸载就可以把签名信息留存也给删了。</p>
<p>深究这个错误就得到了如下几个问题：</p>
<ol>
<li>adb install的过程是什么，会读写那些文件(华为手机的adb install的时候应该就会读取留存的&lt;pkgname, signatures&gt;文件然后跟新包对比签名)</li>
<li>adb uninstall的过程是什么，会读写哪些文件</li>
<li>华为手机的卸载过程是什么，会读写哪些文件</li>
<li>除华为外其他各家包括模拟器的卸载过程是什么，与adb uninstall区别</li>
</ol>
<p>好这几个问题，我们有空再探讨，目前2020/11/22没空。</p>
<p>参考 <a href="http://blog.hjhjw1991.com/android/2018/01/02/Apk%E5%AE%89%E8%A3%85%E5%8D%B8%E8%BD%BD%E5%8E%9F%E7%90%86/" target="_blank" rel="noopener">http://blog.hjhjw1991.com/android/2018/01/02/Apk%E5%AE%89%E8%A3%85%E5%8D%B8%E8%BD%BD%E5%8E%9F%E7%90%86/</a></p>
<p><a href="https://blog.csdn.net/new_abc/article/details/7435508" target="_blank" rel="noopener">https://blog.csdn.net/new_abc/article/details/7435508</a></p>

      
      <!-- 打赏 -->
      
    </div>
    <footer class="article-footer">
      <a data-url="https://zkdingme.github.io/2020/11/22/adbuninstall%E4%B8%8E%E5%9C%A8%E6%A1%8C%E9%9D%A2%E5%8D%B8%E8%BD%BD%E7%9A%84%E5%8C%BA%E5%88%AB/" data-id="ckm0prb2v001bylj52v756cqs"
        class="article-share-link">分享</a>
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/adb/" rel="tag">adb</a></li></ul>

    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-制作U盘系统盘" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/11/21/%E5%88%B6%E4%BD%9CU%E7%9B%98%E7%B3%BB%E7%BB%9F%E7%9B%98/"
    >制作U盘系统盘</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/11/21/%E5%88%B6%E4%BD%9CU%E7%9B%98%E7%B3%BB%E7%BB%9F%E7%9B%98/" class="article-date">
  <time datetime="2020-11-21T07:32:28.000Z" itemprop="datePublished">2020-11-21</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%B7%A5%E5%85%B7/">工具</a>
  </div>

      
      
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
      <p>目标：制作一个ubuntu 18.04的u盘系统盘</p>
<p>步骤如下：</p>
<ol>
<li><p>Windows下载安装<a href="https://rufus.akeo.ie/" target="_blank" rel="noopener">refus</a></p>
</li>
<li><p>去<a href="http://releases.ubuntu.com/18.04.4/" target="_blank" rel="noopener">官网</a> 下载<a href="http://old-releases.ubuntu.com/releases/18.04.4/ubuntu-18.04-desktop-amd64.iso" target="_blank" rel="noopener">desktop版的ubuntu</a>，注意这里的amd64就是x86-64</p>
</li>
<li><p>将u盘插入电脑，启动refus，界面如下<br><img src="refus-1.jpg" alt=""><br>其中设备显示的就是你插入的U盘</p>
</li>
<li><p>选择ubuntu iso文件 引导类型选择——镜像文件(请选择)——选择——选中你的iso文件<br><img src="refus-2.jpg" alt=""><br>引导类型(bootloader)：bootloader 是在操作系统内核运行之前运行的一段小程序。通过这段小程序，我们可以初始化硬件设备、建立内存空间的映射图，从而将系统的软硬件环境带到一个合适的状态，以便为最终调用操作系统内核准备好正确的环境。<br>下面的FreeDOS、Syslinux、ReactOS、Grub、UEFI:NTFS都是一些引导程序选项，这里面大家熟悉的估计就是Grub了，GNU GRUB（GRand Unified Bootloader简称“GRUB”）是一个来自GNU项目的多操作系统启动程序。GRUB是多启动规范的实现，它允许用户可以在计算机内同时拥有多个操作系统，并在计算机启动时选择希望运行的操作系统。简单说，你想装双系统，你的bootloader基本就是Grub。<br><img src="refus-3.jpg" alt=""><br>持久分区大小(Persistent partition size): 这个分区用来存储你使用U盘里的linux系统(try linux/ubuntu)时的changes, 例如新建一个文件。如果你不需要try linux，就设置为0.<br><img src="refus-4.jpg" alt=""><br>分区类型(MBR/GPT)：<a href="https://blog.51cto.com/groot/1842985" target="_blank" rel="noopener">详解</a><br>目标系统类型(BIOS/UEFI): <a href="https://www.zhihu.com/question/21672895" target="_blank" rel="noopener">详解</a><br><img src="refus-5.jpg" alt=""><br>文件系统(FAT32/NTFS)：<a href="https://zhuanlan.zhihu.com/p/32364955" target="_blank" rel="noopener">详解</a><br><img src="refus-6.jpg" alt=""></p>
</li>
<li><p>刷入iso文件</p>
<p><img src="refus-7.jpg" alt=""></p>
</li>
</ol>
<p>这样我们就得到了一个u盘系统盘。</p>
<p>参考 <a href="https://blog.51cto.com/jk6627/1967667" target="_blank" rel="noopener">https://blog.51cto.com/jk6627/1967667</a><br><a href="https://www.zhihu.com/question/28471913" target="_blank" rel="noopener">https://www.zhihu.com/question/28471913</a></p>

      
      <!-- 打赏 -->
      
    </div>
    <footer class="article-footer">
      <a data-url="https://zkdingme.github.io/2020/11/21/%E5%88%B6%E4%BD%9CU%E7%9B%98%E7%B3%BB%E7%BB%9F%E7%9B%98/" data-id="ckm0prb38002nylj52sp9a1hm"
        class="article-share-link">分享</a>
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%88%B6%E4%BD%9Cu%E7%9B%98%E7%B3%BB%E7%BB%9F%E7%9B%98/" rel="tag">制作u盘系统盘</a></li></ul>

    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-POSIX规范介绍" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/11/18/POSIX%E8%A7%84%E8%8C%83%E4%BB%8B%E7%BB%8D/"
    >POSIX规范介绍</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/11/18/POSIX%E8%A7%84%E8%8C%83%E4%BB%8B%E7%BB%8D/" class="article-date">
  <time datetime="2020-11-18T08:13:39.000Z" itemprop="datePublished">2020-11-18</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80%E6%9D%82%E8%B0%88/">计算机基础杂谈</a>
  </div>

      
      
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
      <p>wikipedia定义：</p>
<blockquote>
<p><strong>可移植操作系统接口</strong>（英语：Portable Operating System Interface，缩写为<strong>POSIX</strong>）是<a href="https://zh.wikipedia.org/wiki/IEEE" target="_blank" rel="noopener">IEEE</a>为要在各种<a href="https://zh.wikipedia.org/wiki/UNIX" target="_blank" rel="noopener">UNIX</a><a href="https://zh.wikipedia.org/wiki/操作系统" target="_blank" rel="noopener">操作系统</a>上运行软件，而定义<a href="https://zh.wikipedia.org/wiki/API" target="_blank" rel="noopener">API</a>的一系列互相关联的标准的总称，其正式称呼为IEEE Std 1003，而国际标准名称为<a href="https://zh.wikipedia.org/wiki/ISO" target="_blank" rel="noopener">ISO</a>/<a href="https://zh.wikipedia.org/wiki/IEC" target="_blank" rel="noopener">IEC</a> 9945。此标准源于一个大约开始于1985年的项目。POSIX这个名称是由<a href="https://zh.wikipedia.org/wiki/理查德·斯托曼" target="_blank" rel="noopener">理查德·斯托曼</a>（RMS）应IEEE的要求而提议的一个易于记忆的名称。它基本上是Portable Operating System Interface（可移植操作系统接口）的缩写，而<strong>X</strong>则表明其对Unix API的传承。</p>
<p><a href="https://zh.wikipedia.org/wiki/Linux" target="_blank" rel="noopener">Linux</a>基本上逐步实现了POSIX兼容，但并没有参加正式的POSIX认证。<a href="https://zh.wikipedia.org/wiki/可移植操作系统接口#cite_note-1" target="_blank" rel="noopener">[1]</a></p>
<p><a href="https://zh.wikipedia.org/wiki/微软" target="_blank" rel="noopener">微软</a>的<a href="https://zh.wikipedia.org/wiki/Windows_NT" target="_blank" rel="noopener">Windows NT</a>声称部分实现了POSIX标准。</p>
<p>当前的POSIX主要分为四个部分<a href="https://zh.wikipedia.org/wiki/可移植操作系统接口#cite_note-2" target="_blank" rel="noopener">[2]</a>：Base Definitions、System Interfaces、Shell and Utilities和Rationale。</p>
</blockquote>
<p>《深入理解计算机系统》第二版 p11</p>
<blockquote>
<p>20世纪60年代是大型、复杂操作系统盛行的年代，比如IBM的OS/360和Honeywell的Multics系统。OS/360是历史上最成功的软件项目之一，而 Multics虽然持续存在了多年，却从来没有被广泛应用过。贝尔实验室曾经是Multics项目的最初参与者，但是因为考虑到该项目的复杂性和缺乏进展而于1969年退出。鉴于Mutics项目不愉快的经历，一群贝尔实验室的研究人员Ken Thompson、 Dennis Ritchie、 Doug Mcllroy和 Joe Ossanna，从1969年开始在DEC PDP-7计算机上完全用机器语言编写了一个简单得多的操作系统。这个新系统中的很多思想，比如层次文件系统、作为用户级进程的 shell概念，都是来自于 Multics，只不过在一个更小、更简单的程序包里实现。1970年，Brian Kernighan给新系统命名为“Unix”，这也是一个双关语，暗指“Multics”的复杂性。1973年用C重新编写其内核，1974年，Unix开始正式对外发布。</p>
<p>贝尔实验室以慷慨的条件向学校提供源代码，所以Unix在大专院校里获得了很多支持并得以持续发展。最有影响的工作发生在20世纪70年代晚期到80年代早期，在美国加州大学伯克利分校，研究人员在一系列发布版本中增加了虚拟内存和Internet协议，称为Unix4.xBSD(Berkeley Software Distribution)。与此同时，贝尔实验室也在发布自己的版本，称为System V Unix。其他厂商的版本，比如Sun Microsystems的Solaris系统,则是从这些原始的BSD和System V版本中衍生而来。</p>
<p>20世纪80年代中期，Unix厂商试图通过加入新的、往往不兼容的特性来使它们的程序与众不同，麻烦也就随之而来了。为了阻止这种趋势，IEEE(电气和电子工程师协会)开始努力标准化Unix的开发，后来由 Richard Stallman命名为“Posix”。结果就得到了一系列的标准，称作Posix标准。这套标准涵盖了很多方面，比如Unix系统调用的C语言接口、shell程序和工具、线程及网络编程。最近，一个被称为“标准Unix规范”的独立标准化工作已经与Posix一起创建了统一的Unix系统标准。这些标准化工作的结果是Unix版本之间的差异已经基本消失。</p>
</blockquote>
<p>简单说，POSIX是一个规范，规范操作系统对应用层提供的API。背景是当时Unix碎片化，各家厂商都维护自家的Unix系统，给自家Unix里面加各种特色功能，导致应用层软件开发者们很无奈，所以IEEE站出来说，为了软件开发者们少操心，大家统一一下接口。</p>

      
      <!-- 打赏 -->
      
    </div>
    <footer class="article-footer">
      <a data-url="https://zkdingme.github.io/2020/11/18/POSIX%E8%A7%84%E8%8C%83%E4%BB%8B%E7%BB%8D/" data-id="ckm0prb2t0013ylj52n6ra8i2"
        class="article-share-link">分享</a>
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/POSIX/" rel="tag">POSIX</a></li></ul>

    </footer>

  </div>

  

  
  
  

  

</article>
    
  </article>
  

  
  <nav class="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/2/">下一页</a>
  </nav>
  
</section>
</div>

      <footer class="footer">
  <div class="outer">
    <ul class="list-inline">
      <li>
        &copy;
        2020-2021
        Bonjour Ding
      </li>
      <li>
        
          Powered by
        
        
        <a href="https://hexo.io" target="_blank">Hexo</a> Theme <a href="https://github.com/Shen-Yu/hexo-theme-ayer" target="_blank">Ayer</a>
        
      </li>
    </ul>
    <ul class="list-inline">
      <li>
        
        
        <ul class="list-inline">
  <li>PV:<span id="busuanzi_value_page_pv"></span></li>
  <li>UV:<span id="busuanzi_value_site_uv"></span></li>
</ul>
        
      </li>
      <li>
        <!-- cnzz统计 -->
        
      </li>
    </ul>
  </div>
</footer>
    <div class="to_top">
        <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>
      </div>
    </main>
      <aside class="sidebar">
        <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/favicon.ico" alt="丁星乐"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">归档</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">分类</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">标签</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/2020/01/31/about">关于我</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="Search">
        <i class="ri-search-line"></i>
      </a>
      
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
      </aside>
      <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/images/alipay.jpg">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/images/wechat.jpg">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
      
<script src="/js/jquery-2.0.3.min.js"></script>


<script src="/js/jquery.justifiedGallery.min.js"></script>


<script src="/js/lazyload.min.js"></script>


<script src="/js/busuanzi-2.3.pure.min.js"></script>



<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js"></script>
<script>
  var typed = new Typed("#subtitle", {
    strings: ['芒焰藏于简单之中','江山如此多娇','会当击水三千里，自信人生二百年'],
    startDelay: 0,
    typeSpeed: 200,
    loop: true,
    backSpeed: 100,
    showCursor: true
    });
</script>




<script>
  var ayerConfig = {
    mathjax: false
  }
</script>


<script src="/js/ayer.js"></script>


<script src="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.css">


<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css">
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script>




<script type="text/javascript" src="https://js.users.51.la/20544303.js"></script>
  </div>
</body>

</html>